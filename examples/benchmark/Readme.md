
# Running benchamrk on SWE-bench Lite Dataset

This guide provides instructions on how to download and use the SWE-bench Lite dataset from Hugging Face.

## Dataset Description

The SWE-bench Lite dataset is a curated collection of software engineering problems and their solutions. More details about the dataset can be found at the dataset's Hugging Face page:
- [SWE-bench Lite Dataset on Hugging Face](https://huggingface.co/datasets/princeton-nlp/SWE-bench_Lite)

## Getting Started

To use the dataset, you will need to install the `datasets` library from Hugging Face. You can install it using pip:
```python
from datasets import load_dataset

def filter_short_problem_statements(instance):
    """
    Filter function to exclude problem statements with fewer than 40 words.
    """
    return len(instance["problem_statement"].split()) > 40

def main():
    """
    Main function to load and display entries from the SWE-bench dataset.
    """
    # Load the SWE-bench dataset
    dev_dataset = load_dataset("princeton-nlp/SWE-bench_Lite", split="dev")
    test_dataset = load_dataset("princeton-nlp/SWE-bench_Lite", split="test")

    # Filter the dataset to include only longer problem statements
    filtered_test_dataset = test_dataset.filter(filter_short_problem_statements)

    # Display the first few entries of the filtered dataset
    print(filtered_test_dataset[:5])

if __name__ == "__main__":
    main()
```
## Dataset Fields

The SWE-bench Lite dataset includes the following fields:

- **instance_id**: A formatted instance identifier, usually as repo_owner__repo_name-PR-number.
- **patch**: The gold patch, the patch generated by the PR (minus test-related code), that resolved the issue.
- **repo**: The repository owner/name identifier from GitHub.
- **base_commit**: The commit hash of the repository representing the HEAD of the repository before the solution PR is applied.
- **hints_text**: Comments made on the issue prior to the creation of the solution PRâ€™s first commit creation date.
- **created_at**: The creation date of the pull request.
- **test_patch**: A test-file patch that was contributed by the solution PR.
- **problem_statement**: The issue title and body.
- **version**: Installation version to use for running evaluation.
- **environment_setup_commit**: The commit hash to use for environment setup and installation.
- **FAIL_TO_PASS**: A json list of strings that represent the set of tests resolved by the PR and tied to the issue resolution.
- **PASS_TO_PASS**: A json list of strings that represent tests that should pass before and after the PR application.

## Usage Example

To use the dataset, follow the example code below:
To get started with the SWE-bench Lite dataset from Hugging Face, you can use the following Python code snippet. This dataset provides a comprehensive set of fields that are useful for software engineering research, particularly in the context of automated patch generation and issue resolution.


## Task Configuration

To facilitate the use of the dataset in practical scenarios, a `task_config.yaml` file is used to configure the specifics of the task:
```yaml
backstory: |-
issue_description: |-
repo_name: ""
instance_id: ""
```


## Running the Task

To run the task and save the history of the run, use the following Python code:

```python
python swe/try-swe.yaml --config_path <path/to/config>
```