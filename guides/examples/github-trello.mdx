---
title: "Github commits to Trello Board"
sidebarTitle: "Github and Trello"
icon: "trello"
description: "Create a pipeline to automatically add/move todos on your trello board based on your github commits."
---

<Tip>Automate trello board based on a particular github repo</Tip>

### Install packages and Connect tools

We are trying to connect github and trello accounts

<CodeGroup>
    ```bash Run Command
    pip install composio-crewai

    # Connect your Github and Trello so agents can use it.

    composio-cli add github

    composio-cli add trello
    ```

</CodeGroup>

<CodeGroup>
    ```bash Add and Configure Triggers
    # Add triggers and set a callback url
    # Create a server using ngrok

    ngrok http 2000

    # Set Callback URL
    # Replace your ngrok url

    composio-cli set global-trigger-callback "<https://try.ngrok.io/asdfjh2>"

    # Configure Trigger Add your gihtub repo name and owner name

    composio-cli enable-trigger github_commit_event
    ```

</CodeGroup>

<Steps>
    <Step title="Import base packages">
    <CodeGroup>
        ```python Import statements
        from flask import Flask, request
        from crewai import Agent, Task
        from composio_crewai import ComposioToolset, App, Action
        from langchain_openai import ChatOpenAI
        ```
    </CodeGroup>
    </Step>
    <Step title="Initialise Agents using CrewAI">
    <CodeGroup>
        ```python CrewAI Agents
        llm = ChatOpenAI(openai_api_key=openai_api_key, model="gpt-3.5-turbo")
        composioCrewAI = ComposioToolset([App.TRELLO])
        crewai_agent = Agent(
                role="Github-Trello TODO Agent",
                goal="""Take 'trello_create_trello_card' action on TRELLO via TRELLO APIs based on the Github patch.""",
                backstory="""You are an AI Agent with access to Github and Trello and wants to keep the Github Code TODOs, commit messages and TRELLO Board in Sync. Action to be performed: trello_create_trello_card""",
                verbose=True,
                tools=composioCrewAI,
                llm=llm,
            )
        ```
    </CodeGroup>
    </Step>
    <Step title="Start a web server">
    <CodeGroup>
        ```python Web Server in flask
        app = Flask(**name**)

        @app.route('/webhook', methods=['POST'])
        def webhook():
            task1 = Task(
            description=f"""Given the following Github patch: {request.json}, create a TRELLO card (trello_create_trello_card) for the TODOs from code comments in the patch. TRELLO list (id:{t_id}).
            Please read the patch carefully and create cards for the new TODOs only, avoid removed/old TODOs. Card name should reflect the todo comment present in code""",
            expected_output="A TRELLO card created for the commit",
            agent=crewai_agent,
            )
            task1.execute()

            task2 = Task(
                description=f"""Given the following Github patch: {request.json}, create a TRELLO card (trello_create_trello_card) for the Commit Message in the patch. TRELLO list (id:{d_id})
                to add card. Create only if the commit message indicates that a task is completed.""",
                expected_output="A TRELLO card created for the commit",
                agent=crewai_agent,
            )
            task2.execute()
            return 'Payload received and processed', 200

        if **name** == '**main**':
        app.run(port=2000, debug=True)

        ```

</CodeGroup>
</Step>

</Steps>
