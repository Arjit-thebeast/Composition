---
title: "Todo to Calendar Converter"
sidebarTitle: "Todo to Calendar"
icon: "calendar"
description: "This guide provides detailed steps to create a Todo to Calendar Converter using CrewAI, Composio, and Google Calendar API.
You will build a system capable of converting roughly written todo items into Google Calendar events, ensuring your tasks are scheduled efficiently."
---

<Steps>
    <Step title="Install packages and Connect tools">
    First, we'll install the necessary packages and connect your Google Calendar account using composio cli so agents can use it. Run the following commands on your terminal:    
    <CodeGroup>
        ```bash Run Command
        pip install -r requirements.txt
        pip install crewai==0.28.8

        # Composio SDK
        composio update
        composio login
        composio add googlecalendar
        ```
    </CodeGroup>
    </Step>

    <Step title="Import base packages">
    Next, we'll import the essential libraries for our project.
    <CodeGroup>
        ```python Import statements
        import os
        import dotenv
        from datetime import datetime
        from crewai import Agent, Task
        from langchain_openai import ChatOpenAI
        from composio_crewai import ComposioToolSet, App
        ```
    </CodeGroup>
    </Step>

    <Step title="Initialise Agents using CrewAI">
    We'll initialize our language model and set up the necessary tools for our agents.
    <CodeGroup>
        ```python CrewAI Agents
        dotenv.load_dotenv()
        llm = ChatOpenAI(openai_api_key=os.environ["OPENAI_API_KEY"], model_name="gpt-4-turbo-preview")

        composio_toolset = ComposioToolSet()
        tools = composio_toolset.get_tools(apps=[App.GOOGLECALENDAR])
        date = datetime.today().strftime('%Y-%m-%d')

        timezone = datetime.now().astimezone().tzinfo
        ```
    </CodeGroup>
    </Step>

    <Step title="Setup Todo">
    Define the todo list that we want to convert into calendar events.
    <CodeGroup>
        ```python Web Server in flask
        todo = '''
            1PM - 3PM -> Code,
            5PM - 7PM -> Meeting,
            9AM - 12AM -> Learn soemthing
            8PM - 10PM -> Game

        '''
        ```
    </CodeGroup>
    </Step>

    <Step title="Execute Agent">
    Finally, we'll define and execute the agent responsible for creating Google Calendar events based on the todo list.
    <CodeGroup>
        ```python Run agent
        def run_crew():
            gcal_agent = Agent(role='Google Calendar Agent',
            goal="""You take action on Google Calendar using Google Calendar APIs""",
            backstory="""You are AI agent that is responsible for taking actions on
            Google Calendar on users behalf. You need to take action on
            Calendar using Google Calendar APIs. Use Correct tools to run
            apis from the given tool-set""",
            verbose=True,
            tools=tools,
            llm=llm)
            task = Task(
            description=f"book slots according to {todo}. Label them with the work provided to be done in that time period. Schedule it for today. Today's date is {date} (it's in YYYY-MM-DD format) and make the timezone be {timezone}.",
            agent=gcal_agent,
            expected_output="if free slot is found"
            )
            task.execute()
            return "Crew run initiated", 200

        run_crew()
        ```
    </CodeGroup>
    </Step>

</Steps>

## Putting it All Together

<CodeGroup>
    ```python Final Code
    # Import base packages
    import os
    import dotenv
    from datetime import datetime
    from crewai import Agent, Task
    from langchain_openai import ChatOpenAI
    from composio_crewai import ComposioToolSet, App

    # Initialise Agents using CrewAI
    dotenv.load_dotenv()
    llm = ChatOpenAI(openai_api_key=os.environ["OPENAI_API_KEY"], model_name="gpt-4-turbo-preview")

    composio_toolset = ComposioToolSet()
    tools = composio_toolset.get_tools(apps=[App.GOOGLECALENDAR])

    date = datetime.today().strftime('%Y-%m-%d')
    timezone = datetime.now().astimezone().tzinfo

    # Setup Todo
    todo = '''
        1PM - 3PM -> Code,
        5PM - 7PM -> Meeting,
        9AM - 12AM -> Learn something,
        8PM - 10PM -> Game
    '''

    # Execute Agent
    def run_crew():
        gcal_agent = Agent(
            role='Google Calendar Agent',
            goal="""You take action on Google Calendar using Google Calendar APIs""",
            backstory="""You are an AI agent responsible for taking actions on Google Calendar on users' behalf.
            You need to take action on Calendar using Google Calendar APIs. Use correct tools to run APIs from the given tool-set.""",
            verbose=True,
            tools=tools,
            llm=llm
        )
        task = Task(
            description=f"Book slots according to {todo}. Label them with the work provided to be done in that time period. Schedule it for today. Today's date is {date} (it's in YYYY-MM-DD format) and make the timezone be {timezone}.",
            agent=gcal_agent,
            expected_output="if free slot is found"
        )
        task.execute()
        return "Crew run initiated", 200

    run_crew()
    ```

</CodeGroup>

## Information

- [Github](https://github.com/anonthedev/composio-todo-to-calendar)
